!function(e,t,n,o,i,s){const{registerBlockType:r,createBlock:l}=wp.blocks,{createElement:a}=wp.element,{InspectorControls:p}=wp.blockEditor,{PanelBody:c,RangeControl:u,TextControl:d,ToggleControl:m}=wp.components,{__:w}=wp.i18n;r("wp-document-revisions/revisions-shortcode",{title:w("Document Revisions","wp-document-revisions"),description:w("Display a list of revisions for your document.","wp-document-revisions"),category:"wpdr-category",icon:"list-view",attributes:{id:{type:"number",default:1},numberposts:{type:"number",default:5},summary:{type:"boolean",default:!1},show_pdf:{type:"boolean",default:!1},new_tab:{type:"boolean",default:!0},align:{type:"string"},backgroundColor:{type:"string"},linkColor:{type:"string"},textColor:{type:"string"},gradient:{type:"string"},fontSize:{type:"string"},style:{type:"object"}},supports:{align:!0,color:{gradients:!0,link:!0},spacing:{margin:!0,padding:!0},typography:{fontSize:!0,lineHeight:!0}},edit(e){const t=e.attributes,n=e.setAttributes;return a("div",{},[a(s,{block:"wp-document-revisions/revisions-shortcode",attributes:t}),a(p,{},[a(c,{title:w("Selection Criteria","wp-document-revisions"),initialOpen:!0},[a(d,{type:"number",value:t.id,label:w("Document Id","wp-document-revisions"),onChange:function(e){n({id:parseInt(e)})}}),a(u,{value:t.numberposts,label:w("Revisions to Display","wp-document-revisions"),onChange:function(e){n({numberposts:parseInt(e)})},min:1,max:20}),a(m,{type:"boolean",checked:t.summary,label:w("Show Revision Summaries?","wp-document-revisions"),onChange:function(e){n({summary:e})}}),a(m,{type:"boolean",checked:t.show_pdf,label:w("Show PDF File indication?","wp-document-revisions"),onChange:function(e){n({show_pdf:e})}}),a(m,{type:"boolean",checked:t.new_tab,label:w("Open in New Tab?","wp-document-revisions"),help:w("Setting this on will open the document in a new tab. This should be set on whilst editing the page using this block as clicking on a link whilst editing will force the current page to be left.","wp-document-revisions"),onChange:function(e){n({new_tab:e})}})])])])},save:()=>null,transforms:{from:[{type:"block",blocks:["core/shortcode"],isMatch:function({text:e}){return/^\[?document_revisions\b\s*/.test(e)},transform:({text:e})=>{var t=e.toLowerCase();0==t.indexOf("[")&&(t=t.slice(1,t.length-1));var n=t.split(" ");n.shift();var o,i=1,s=5,r=!1,a=!1,p=!0;for(o of n)if(0!==o.length){var c=o.split("=");c.length>1&&(0===c[1].indexOf("'")||0===c[1].indexOf('"'))&&(c[1]=c[1].slice(1,c[1].length-1)),"id"===c[0]&&(i=Number(c[1])),"number"===c[0]&&(s=Number(c[1])),"numberposts"===c[0]&&(s=Number(c[1])),"summary"===c[0]&&(1!==c.length&&"true"!==c[1]||(r=!0)),"show_pdf"===c[0]&&(1!==c.length&&"true"!==c[1]||(a=!0),used=!0),"new_tab"===c[0]&&(1!==c.length&&"false"!==c[1]||(p=!1))}return l("wp-document-revisions/revisions-shortcode",{id:i,numberposts:s,summary:r,show_pdf:a,new_tab:p})}}],to:[{type:"block",blocks:["core/shortcode"],transform:e=>{var t="[document_revisions ";return""!=e.id&&(t+="id="+e.id),""!=e.numberposts&&(t+=" numberposts="+e.numberposts),e.summary?t+=" summary=true":t+=" summary=false",e.show_pdf&&(t+=" show_pdf"),e.new_tab?t+=" new_tab=true ]":t+=" new_tab=false ]",l("core/shortcode",{text:t})}}]}})}(window.wp.blocks,window.wp.element,window.wp.blockEditor,window.wp.components,window.wp.compose,window.wp.serverSideRender,window.wp.i18n);