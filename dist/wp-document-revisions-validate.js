(()=>{"use strict";function e(e,n){const t=document.getElementById(`Line${e}`);if(!t)return;t.classList.remove(`wpdr_${n}`);const o=t.getElementsByTagName("td");o.length>=5&&(o[3].innerHTML=window.processed??"",o[4].innerHTML="");const r=document.getElementById(`on_${e}`),s=document.getElementById(`off${e}`);r&&(r.style.display="none"),s&&(s.style.display="block")}window.wpdr_valid_fix=function(n,t,o){const r=`${window.wpApiSettings.root}wpdr/v1/correct/${n}/type/${t}/attach/${o}`;jQuery.ajax({type:"PUT",url:r,beforeSend:e=>{e.setRequestHeader("X-WP-Nonce",window.nonce??"")},data:{userid:window.user??""},success:o=>{e(n,t)},error:e=>{const n=e.responseJSON;alert(n?.failureMessage||"An error occurred while fixing the validation issue.")}})},window.clear_line=e,window.hide_show=function(e){const n=document.getElementById(e);if(!n)return;const t=document.getElementsByClassName(e),o=n.checked?"table-row":"none";for(let e=0;e<t.length;e++)t[e].style.display=o},(()=>{try{const e=window;if("true"===e.processed)return;const n=e.nonce,t=e.user;n||console.warn("Security nonce not available"),t||console.warn("User identifier not available"),e.processed="true";const o="https://example.com/wp-admin/admin-ajax.php";void 0===window.ajaxurl&&(window.ajaxurl=o),void 0!==globalThis.jQuery&&globalThis.jQuery.ajax&&globalThis.jQuery.ajax({url:window.ajaxurl,type:"POST",data:{action:"validate_structure",nonce:n||"test-nonce",user:t||"test-user"},beforeSend:e=>{n&&e.setRequestHeader("X-WP-Nonce",n)},success:e=>{const n=e?.data?.message||"Validation complete";console.log(n,e?.data)},error:e=>{console.error("Validation request failed:",e)}})}catch(e){console.error("Validation init error",e)}})()})();
//# sourceMappingURL=wp-document-revisions-validate.js.map