{"version":3,"file":"wpdr-revisions-shortcode.js","mappings":"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","sources":["webpack://wp-document-revisions/webpack/bootstrap","webpack://wp-document-revisions/webpack/runtime/compat get default export","webpack://wp-document-revisions/webpack/runtime/define property getters","webpack://wp-document-revisions/webpack/runtime/hasOwnProperty shorthand","webpack://wp-document-revisions/external var [\"wp\",\"i18n\"]","webpack://wp-document-revisions/external var [\"wp\",\"blocks\"]","webpack://wp-document-revisions/external var [\"wp\",\"element\"]","webpack://wp-document-revisions/external var [\"wp\",\"blockEditor\"]","webpack://wp-document-revisions/external var [\"wp\",\"components\"]","webpack://wp-document-revisions/external var [\"wp\",\"serverSideRender\"]","webpack://wp-document-revisions/./src/blocks/wpdr-revisions-shortcode.tsx"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","const __WEBPACK_NAMESPACE_OBJECT__ = wp.i18n;","const __WEBPACK_NAMESPACE_OBJECT__ = wp.blocks;","const __WEBPACK_NAMESPACE_OBJECT__ = wp.element;","const __WEBPACK_NAMESPACE_OBJECT__ = wp.blockEditor;","const __WEBPACK_NAMESPACE_OBJECT__ = wp.components;","const __WEBPACK_NAMESPACE_OBJECT__ = wp.serverSideRender;","/**\n * Revisions Shortcode Block\n * Modern TypeScript conversion with proper typing\n */\nimport { __, sprintf } from '@wordpress/i18n';\nimport { registerBlockType } from '@wordpress/blocks';\nimport { createElement } from '@wordpress/element';\nimport { InspectorControls } from '@wordpress/block-editor';\nimport { PanelBody, RangeControl, TextControl, ToggleControl } from '@wordpress/components';\nimport ServerSideRender from '@wordpress/server-side-render';\nconst RevisionsShortcodeEdit = ({ attributes, setAttributes }) => {\n    const { id, numberposts, summary, show_pdf, new_tab } = attributes;\n    const inspectorControls = (createElement(InspectorControls, null,\n        createElement(PanelBody, { title: __('Revisions Settings', 'wp-document-revisions'), initialOpen: true },\n            createElement(TextControl, { label: __('Document ID', 'wp-document-revisions'), type: \"number\", value: id.toString(), onChange: (value) => {\n                    const numValue = parseInt(value, 10);\n                    if (!isNaN(numValue) && numValue > 0) {\n                        setAttributes({ id: numValue });\n                    }\n                }, help: __('The ID of the document to show revisions for', 'wp-document-revisions') }),\n            createElement(RangeControl, { label: __('Number of Revisions', 'wp-document-revisions'), value: numberposts, onChange: (value) => setAttributes({ numberposts: value ?? 1 }), min: 1, max: 50, help: __('How many revisions to display', 'wp-document-revisions') })),\n        createElement(PanelBody, { title: __('Display Options', 'wp-document-revisions'), initialOpen: false },\n            createElement(ToggleControl, { label: __('Show Summary', 'wp-document-revisions'), checked: summary, onChange: (value) => setAttributes({ summary: value }), help: __('Display revision summaries/comments', 'wp-document-revisions') }),\n            createElement(ToggleControl, { label: __('Show PDF Link', 'wp-document-revisions'), checked: show_pdf, onChange: (value) => setAttributes({ show_pdf: value }), help: __('Show direct PDF download link if available', 'wp-document-revisions') }),\n            createElement(ToggleControl, { label: __('Open in New Tab', 'wp-document-revisions'), checked: new_tab, onChange: (value) => setAttributes({ new_tab: value }), help: __('Open revision links in a new tab/window', 'wp-document-revisions') }))));\n    const blockContent = (createElement(\"div\", { style: {\n            padding: '20px',\n            border: '1px dashed #ccc',\n            borderRadius: '4px',\n            backgroundColor: '#f9f9f9',\n        } },\n        createElement(\"h4\", { style: { margin: '0 0 10px 0' } }, __('Document Revisions', 'wp-document-revisions')),\n        createElement(\"p\", { style: { margin: '0', color: '#666' } }, id > 0\n            ? sprintf(\n            /* translators: 1: number of revisions, 2: document id */\n            __('Showing %1$s revisions for document #%2$s', 'wp-document-revisions'), numberposts, id)\n            : __('Please enter a valid document ID', 'wp-document-revisions')),\n        id > 0 && (createElement(ServerSideRender, { block: \"wp-document-revisions/revisions-shortcode\", attributes: attributes }))));\n    return createElement(\"div\", null,\n        inspectorControls,\n        blockContent);\n};\nregisterBlockType('wp-document-revisions/revisions-shortcode', {\n    title: __('Document Revisions', 'wp-document-revisions'),\n    description: __('Display a list of revisions for your document.', 'wp-document-revisions'),\n    category: 'wpdr-category',\n    icon: 'list-view',\n    keywords: [\n        __('revisions', 'wp-document-revisions'),\n        __('history', 'wp-document-revisions'),\n        __('versions', 'wp-document-revisions'),\n        __('document', 'wp-document-revisions'),\n    ],\n    attributes: {\n        id: {\n            type: 'number',\n            default: 1,\n        },\n        numberposts: {\n            type: 'number',\n            default: 5,\n        },\n        summary: {\n            type: 'boolean',\n            default: false,\n        },\n        show_pdf: {\n            type: 'boolean',\n            default: false,\n        },\n        new_tab: {\n            type: 'boolean',\n            default: true,\n        },\n        align: {\n            type: 'string',\n        },\n        backgroundColor: {\n            type: 'string',\n        },\n        linkColor: {\n            type: 'string',\n        },\n        textColor: {\n            type: 'string',\n        },\n        gradient: {\n            type: 'string',\n        },\n        fontSize: {\n            type: 'string',\n        },\n        style: {\n            type: 'object',\n        },\n    },\n    supports: {\n        align: true,\n        color: {\n            background: true,\n            text: true,\n            link: true,\n            gradients: true,\n        },\n        typography: {\n            fontSize: true,\n        },\n        spacing: {\n            padding: true,\n            margin: true,\n        },\n    },\n    edit: RevisionsShortcodeEdit,\n    save: () => null, // Server-side rendered\n});\n"],"names":["__webpack_require__","module","getter","__esModule","d","a","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","wp","i18n","blocks","element","blockEditor","components","serverSideRender","registerBlockType","title","__","description","category","icon","keywords","attributes","id","type","default","numberposts","summary","show_pdf","new_tab","align","backgroundColor","linkColor","textColor","gradient","fontSize","style","supports","color","background","text","link","gradients","typography","spacing","padding","margin","edit","setAttributes","inspectorControls","createElement","InspectorControls","PanelBody","initialOpen","TextControl","label","value","toString","onChange","numValue","parseInt","isNaN","help","RangeControl","min","max","ToggleControl","checked","blockContent","border","borderRadius","sprintf","block","save"],"sourceRoot":""}