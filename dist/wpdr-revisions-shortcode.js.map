{"version":3,"file":"wpdr-revisions-shortcode.js","mappings":"mBAAA,MAAM,EAA+BA,GAAGC,KCAlC,EAA+BD,GAAGE,OCAlC,EAA+BF,GAAGG,QCAlC,EAA+BH,GAAGI,YCAlC,EAA+BJ,GAAGK,WCUlCC,EAAmBC,OAAOP,IAAIQ,kBAChC,MAAO,IAAAC,eAAc,MAAO,CAAC,EAAG,8BA6DpC,IAAAC,mBAAkB,4CAA6C,CAC3DC,OAAO,IAAAC,IAAG,qBAAsB,yBAChCC,aAAa,IAAAD,IAAG,iDAAkD,yBAClEE,SAAU,gBACVC,KAAM,YACNC,SAAU,EACN,IAAAJ,IAAG,YAAa,0BAChB,IAAAA,IAAG,UAAW,0BACd,IAAAA,IAAG,WAAY,0BACf,IAAAA,IAAG,WAAY,0BAEnBK,WAAY,CACRC,GAAI,CACAC,KAAM,SACNC,QAAS,GAEbC,YAAa,CACTF,KAAM,SACNC,QAAS,GAEbE,QAAS,CACLH,KAAM,UACNC,SAAS,GAEbG,SAAU,CACNJ,KAAM,UACNC,SAAS,GAEbI,QAAS,CACLL,KAAM,UACNC,SAAS,GAEbK,MAAO,CACHN,KAAM,UAEVO,gBAAiB,CACbP,KAAM,UAEVQ,UAAW,CACPR,KAAM,UAEVS,UAAW,CACPT,KAAM,UAEVU,SAAU,CACNV,KAAM,UAEVW,SAAU,CACNX,KAAM,UAEVY,MAAO,CACHZ,KAAM,WAGda,SAAU,CACNP,OAAO,EACPQ,MAAO,CACHC,YAAY,EACZC,MAAM,EACNC,MAAM,EACNC,WAAW,GAEfC,WAAY,CACRR,UAAU,GAEdS,QAAS,CACLC,SAAS,EACTC,QAAQ,IAGhBC,KAlI2B,EAAGzB,aAAY0B,oBAC1C,MAAM,GAAEzB,EAAE,YAAEG,EAAW,QAAEC,EAAO,SAAEC,EAAQ,QAAEC,GAAYP,EAClD2B,GAAoB,IAAAnC,eAAc,EAAAoC,kBAAmB,CAAC,GAAG,IAAApC,eAAc,EAAAqC,UAAW,CACpFnC,OAAO,IAAAC,IAAG,qBAAsB,yBAChCmC,aAAa,IACd,IAAAtC,eAAc,EAAAuC,YAAa,CAC1BC,OAAO,IAAArC,IAAG,cAAe,yBACzBO,KAAM,SACN+B,MAAOhC,EAAGiC,WACVC,SAAWF,IACP,MAAMG,EAAWC,SAASJ,EAAO,KAC5BK,MAAMF,IAAaA,EAAW,GAC/BV,EAAc,CAAEzB,GAAImC,KAG5BG,MAAM,IAAA5C,IAAG,+CAAgD,4BACzD,IAAAH,eAAc,EAAAgD,aAAc,CAC5BR,OAAO,IAAArC,IAAG,sBAAuB,yBACjCsC,MAAO7B,EACP+B,SAAWF,GAAUP,EAAc,CAAEtB,YAAa6B,GAAS,IAC3DQ,IAAK,EACLC,IAAK,GACLH,MAAM,IAAA5C,IAAG,gCAAiC,6BACzC,IAAAH,eAAc,EAAAqC,UAAW,CAC1BnC,OAAO,IAAAC,IAAG,kBAAmB,yBAC7BmC,aAAa,IACd,IAAAtC,eAAc,EAAAmD,cAAe,CAC5BX,OAAO,IAAArC,IAAG,eAAgB,yBAC1BiD,QAASvC,EACT8B,SAAWF,GAAUP,EAAc,CAAErB,QAAS4B,IAC9CM,MAAM,IAAA5C,IAAG,sCAAuC,4BAChD,IAAAH,eAAc,EAAAmD,cAAe,CAC7BX,OAAO,IAAArC,IAAG,gBAAiB,yBAC3BiD,QAAStC,EACT6B,SAAWF,GAAUP,EAAc,CAAEpB,SAAU2B,IAC/CM,MAAM,IAAA5C,IAAG,6CAA8C,4BACvD,IAAAH,eAAc,EAAAmD,cAAe,CAC7BX,OAAO,IAAArC,IAAG,kBAAmB,yBAC7BiD,QAASrC,EACT4B,SAAWF,GAAUP,EAAc,CAAEnB,QAAS0B,IAC9CM,MAAM,IAAA5C,IAAG,0CAA2C,6BAElDkD,GAAe,IAAArD,eAAc,MAAO,CACtCsB,MAAO,CACHS,QAAS,OACTuB,OAAQ,kBACRC,aAAc,MACdtC,gBAAiB,aAEtB,IAAAjB,eAAc,KAAM,CAAEsB,MAAO,CAAEU,OAAQ,gBAAkB,IAAA7B,IAAG,qBAAsB,2BAA2B,IAAAH,eAAc,IAAK,CAAEsB,MAAO,CAAEU,OAAQ,IAAKR,MAAO,SAAYf,EAAK,GAC7K,IAAA+C,UAEF,IAAArD,IAAG,4CAA6C,yBAA0BS,EAAaH,IACrF,IAAAN,IAAG,mCAAoC,0BAA2BM,EAAK,IACzE,IAAAT,eAAcH,EAAkB,CAC5B4D,MAAO,4CACPjD,gBAER,OAAO,IAAAR,eAAc,MAAO,CAAC,EAAGmC,EAAmBkB,IAyEnDK,KAAM,IAAM,M","sources":["webpack://wp-document-revisions/external var [\"wp\",\"i18n\"]","webpack://wp-document-revisions/external var [\"wp\",\"blocks\"]","webpack://wp-document-revisions/external var [\"wp\",\"element\"]","webpack://wp-document-revisions/external var [\"wp\",\"blockEditor\"]","webpack://wp-document-revisions/external var [\"wp\",\"components\"]","webpack://wp-document-revisions/./src/blocks/wpdr-revisions-shortcode.tsx"],"sourcesContent":["const __WEBPACK_NAMESPACE_OBJECT__ = wp.i18n;","const __WEBPACK_NAMESPACE_OBJECT__ = wp.blocks;","const __WEBPACK_NAMESPACE_OBJECT__ = wp.element;","const __WEBPACK_NAMESPACE_OBJECT__ = wp.blockEditor;","const __WEBPACK_NAMESPACE_OBJECT__ = wp.components;","/**\n * Revisions Shortcode Block\n * Modern TypeScript conversion with proper typing\n */\nimport { __, sprintf } from '@wordpress/i18n';\nimport { registerBlockType } from '@wordpress/blocks';\nimport { createElement } from '@wordpress/element';\nimport { InspectorControls } from '@wordpress/block-editor';\nimport { PanelBody, RangeControl, TextControl, ToggleControl } from '@wordpress/components';\n// Mock server-side render for TypeScript\nconst ServerSideRender = window.wp?.serverSideRender ||\n    (() => createElement('div', {}, 'Server-side rendering...'));\nconst RevisionsShortcodeEdit = ({ attributes, setAttributes }) => {\n    const { id, numberposts, summary, show_pdf, new_tab } = attributes;\n    const inspectorControls = createElement(InspectorControls, {}, createElement(PanelBody, {\n        title: __('Revisions Settings', 'wp-document-revisions'),\n        initialOpen: true,\n    }, createElement(TextControl, {\n        label: __('Document ID', 'wp-document-revisions'),\n        type: 'number',\n        value: id.toString(),\n        onChange: (value) => {\n            const numValue = parseInt(value, 10);\n            if (!isNaN(numValue) && numValue > 0) {\n                setAttributes({ id: numValue });\n            }\n        },\n        help: __('The ID of the document to show revisions for', 'wp-document-revisions'),\n    }), createElement(RangeControl, {\n        label: __('Number of Revisions', 'wp-document-revisions'),\n        value: numberposts,\n        onChange: (value) => setAttributes({ numberposts: value ?? 1 }),\n        min: 1,\n        max: 50,\n        help: __('How many revisions to display', 'wp-document-revisions'),\n    })), createElement(PanelBody, {\n        title: __('Display Options', 'wp-document-revisions'),\n        initialOpen: false,\n    }, createElement(ToggleControl, {\n        label: __('Show Summary', 'wp-document-revisions'),\n        checked: summary,\n        onChange: (value) => setAttributes({ summary: value }),\n        help: __('Display revision summaries/comments', 'wp-document-revisions'),\n    }), createElement(ToggleControl, {\n        label: __('Show PDF Link', 'wp-document-revisions'),\n        checked: show_pdf,\n        onChange: (value) => setAttributes({ show_pdf: value }),\n        help: __('Show direct PDF download link if available', 'wp-document-revisions'),\n    }), createElement(ToggleControl, {\n        label: __('Open in New Tab', 'wp-document-revisions'),\n        checked: new_tab,\n        onChange: (value) => setAttributes({ new_tab: value }),\n        help: __('Open revision links in a new tab/window', 'wp-document-revisions'),\n    })));\n    const blockContent = createElement('div', {\n        style: {\n            padding: '20px',\n            border: '1px dashed #ccc',\n            borderRadius: '4px',\n            backgroundColor: '#f9f9f9',\n        },\n    }, createElement('h4', { style: { margin: '0 0 10px 0' } }, __('Document Revisions', 'wp-document-revisions')), createElement('p', { style: { margin: '0', color: '#666' } }, id > 0\n        ? sprintf(\n        /* translators: 1: number of revisions, 2: document id */\n        __('Showing %1$s revisions for document #%2$s', 'wp-document-revisions'), numberposts, id)\n        : __('Please enter a valid document ID', 'wp-document-revisions')), id > 0 &&\n        createElement(ServerSideRender, {\n            block: 'wp-document-revisions/revisions-shortcode',\n            attributes,\n        }));\n    return createElement('div', {}, inspectorControls, blockContent);\n};\nregisterBlockType('wp-document-revisions/revisions-shortcode', {\n    title: __('Document Revisions', 'wp-document-revisions'),\n    description: __('Display a list of revisions for your document.', 'wp-document-revisions'),\n    category: 'wpdr-category',\n    icon: 'list-view',\n    keywords: [\n        __('revisions', 'wp-document-revisions'),\n        __('history', 'wp-document-revisions'),\n        __('versions', 'wp-document-revisions'),\n        __('document', 'wp-document-revisions'),\n    ],\n    attributes: {\n        id: {\n            type: 'number',\n            default: 1,\n        },\n        numberposts: {\n            type: 'number',\n            default: 5,\n        },\n        summary: {\n            type: 'boolean',\n            default: false,\n        },\n        show_pdf: {\n            type: 'boolean',\n            default: false,\n        },\n        new_tab: {\n            type: 'boolean',\n            default: true,\n        },\n        align: {\n            type: 'string',\n        },\n        backgroundColor: {\n            type: 'string',\n        },\n        linkColor: {\n            type: 'string',\n        },\n        textColor: {\n            type: 'string',\n        },\n        gradient: {\n            type: 'string',\n        },\n        fontSize: {\n            type: 'string',\n        },\n        style: {\n            type: 'object',\n        },\n    },\n    supports: {\n        align: true,\n        color: {\n            background: true,\n            text: true,\n            link: true,\n            gradients: true,\n        },\n        typography: {\n            fontSize: true,\n        },\n        spacing: {\n            padding: true,\n            margin: true,\n        },\n    },\n    edit: RevisionsShortcodeEdit,\n    save: () => null, // Server-side rendered\n});\n"],"names":["wp","i18n","blocks","element","blockEditor","components","ServerSideRender","window","serverSideRender","createElement","registerBlockType","title","__","description","category","icon","keywords","attributes","id","type","default","numberposts","summary","show_pdf","new_tab","align","backgroundColor","linkColor","textColor","gradient","fontSize","style","supports","color","background","text","link","gradients","typography","spacing","padding","margin","edit","setAttributes","inspectorControls","InspectorControls","PanelBody","initialOpen","TextControl","label","value","toString","onChange","numValue","parseInt","isNaN","help","RangeControl","min","max","ToggleControl","checked","blockContent","border","borderRadius","sprintf","block","save"],"sourceRoot":""}